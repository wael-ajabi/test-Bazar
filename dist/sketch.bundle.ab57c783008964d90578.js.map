{"version":3,"file":"sketch.bundle.ab57c783008964d90578.js","mappings":"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","sources":["webpack:///./src/sketch.js"],"sourcesContent":["var player;\r\nvar computer;\r\nvar ball;\r\nvar playerServe;\r\nvar goalWaitPeriod = false;\r\n// for sparks effect on goal\r\nvar sparks = [];\r\n// for lightning effect before serve\r\nvar lightningForge;\r\n// for paddle animations\r\nvar isPlayerForcePush = false;\r\nvar isCompForcePush = false;\r\nvar xoff = 0.0;\r\nfunction setup() {\r\n  console.log('zebi');\r\n  var iHeight = window.innerHeight <= 542 ? window.innerHeight - 20 : 522;\r\n  var iWidth = window.innerWidth <= 957 ? window.innerWidth - 20 : 937;\r\n  var c = createCanvas(iWidth, iHeight);\r\n  c.parent('p5Div');\r\n\r\n  player = new Player();\r\n  computer = new Computer();\r\n  ball = new Ball(width / 2, height / 2);\r\n  scoreboard = new Scoreboard();\r\n  playerServe = true;\r\n  // indicator animation that a serve is coming\r\n  lightningForge = new LightningForge();\r\n\r\n  textSize(32);\r\n  textFont(\"Futura\");\r\n}\r\n\r\nfunction draw() {\r\n  if (goalWaitPeriod) {\r\n    // Screen Shakes (number 13 chosen for extra spookiness)\r\n    translate(random(-13, 13), random(-13, 13));\r\n  }\r\n\r\n  background(25);\r\n\r\n  stroke(255);\r\n  line(width / 2, 0, width / 2, height);\r\n\r\n  player.update();\r\n  if (keyIsDown(UP_ARROW)) {\r\n    player.move(0, -7);\r\n  } else if (keyIsDown(DOWN_ARROW)) {\r\n    player.move(0, 7);\r\n  }\r\n\r\n  player.show();\r\n  if (isPlayerForcePush) {\r\n    player.paddle.forceUpdate(\"player\");\r\n  }\r\n\r\n  computer.update();\r\n  if (isCompForcePush) {\r\n    computer.paddle.forceUpdate(\"computer\");\r\n  }\r\n  computer.show();\r\n\r\n  text(scoreboard.playerScore + \" / 7\", width / 2 - 140, 60);\r\n  text(scoreboard.computerScore + \" / 7\", width / 2 + 60, 60);\r\n\r\n  for (var i = sparks.length - 1; i >= 0; i--) {\r\n    sparks[i].update();\r\n    sparks[i].show();\r\n    if (sparks[i].done()) {\r\n      sparks.splice(i, 1);\r\n    }\r\n  }\r\n\r\n  if (scoreboard.gameOver()) {\r\n    fill(25, 123);\r\n    noStroke();\r\n    rect(0, 0, width, height);\r\n    fill(255);\r\n    var result =\r\n      scoreboard.playerScore > scoreboard.computerScore\r\n        ? \"You win! \"\r\n        : \"You lose! \";\r\n    text(\r\n      result + scoreboard.playerScore + \" to \" + scoreboard.computerScore + \".\",\r\n      width / 2 - 130,\r\n      height / 2 - 40\r\n    );\r\n    text(\"Press spacebar to play again.\", width / 2 - 220, height / 2);\r\n  } else {\r\n    if (!goalWaitPeriod) {\r\n      if (lightningForge.forgeIsFormed()) {\r\n        ball.update();\r\n        ball.show();\r\n      } else {\r\n        lightningForge.update();\r\n        lightningForge.show();\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction keyPressed() {\r\n  // if game over and spacebar is pressed\r\n  if (scoreboard.gameOver && keyCode === 32) {\r\n    scoreboard.resetScore();\r\n  }\r\n}\r\n\r\nfunction Paddle(x, y, width, height) {\r\n  this.x = x;\r\n  this.y = y;\r\n  this.width = width;\r\n  this.height = height;\r\n  this.xspeed = 0;\r\n  this.yspeed = 0;\r\n  this.forcePushTime = 0;\r\n\r\n  this.show = function () {\r\n    if (isPlayerForcePush) {\r\n      fill(255);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    rect(this.x, this.y, this.width, this.height, 5);\r\n  };\r\n\r\n  this.forceUpdate = function (pType) {\r\n    if (this.forcePushTime < 6) {\r\n      this.x -= 1;\r\n      this.width += 2;\r\n      this.y -= 1;\r\n      this.height += 2;\r\n      this.forcePushTime += 1;\r\n    } else if (this.forcePushTime < 12) {\r\n      this.x += 1;\r\n      this.width -= 2;\r\n      this.y += 1;\r\n      this.height -= 2;\r\n      this.forcePushTime += 1;\r\n    } else {\r\n      if (pType === \"player\") {\r\n        isPlayerForcePush = false;\r\n      } else {\r\n        isCompForcePush = false;\r\n      }\r\n      this.forcePushTime = 0;\r\n    }\r\n  };\r\n}\r\n\r\nfunction Scoreboard() {\r\n  this.playerScore = 0;\r\n  this.computerScore = 0;\r\n\r\n  this.gameOver = function () {\r\n    return this.playerScore === 7 || this.computerScore === 7;\r\n  };\r\n\r\n  this.resetScore = function () {\r\n    this.playerScore = 0;\r\n    this.computerScore = 0;\r\n  };\r\n\r\n  this.playerScored = function () {\r\n    this.playerScore += 1;\r\n  };\r\n\r\n  this.computerScored = function () {\r\n    this.computerScore += 1;\r\n  };\r\n}\r\n\r\nfunction Player() {\r\n  this.paddle = new Paddle(30, height / 2 - 25, 20, 70);\r\n\r\n  this.update = function () {\r\n    this.paddle.xspeed = 0;\r\n    this.paddle.yspeed = 0;\r\n  };\r\n\r\n  this.move = function (x, y) {\r\n    this.paddle.x += x;\r\n    this.paddle.y += y;\r\n    this.paddle.xspeed = x;\r\n    this.paddle.yspeed = y;\r\n    if (this.paddle.y < 0) {\r\n      // all the way to the top\r\n      this.paddle.y = 0;\r\n      this.paddle.yspeed = 0;\r\n    } else if (this.paddle.y + this.paddle.height > height) {\r\n      // all the way to the bottom\r\n      this.paddle.y = height - this.paddle.height;\r\n      this.paddle.yspeed = 0;\r\n    }\r\n  };\r\n\r\n  this.show = function () {\r\n    this.paddle.show();\r\n  };\r\n}\r\n\r\nfunction Computer() {\r\n  this.paddle = new Paddle(width - 50, height / 2 - 25, 20, 70);\r\n\r\n  this.move = function (x, y) {\r\n    this.paddle.x += x;\r\n    this.paddle.y += y;\r\n    this.paddle.xspeed = x;\r\n    this.paddle.yspeed = y;\r\n    if (this.paddle.y < 0) {\r\n      // all the way to the top\r\n      this.paddle.y = 0;\r\n      this.paddle.yspeed = 0;\r\n    } else if (this.paddle.y + this.paddle.height > height) {\r\n      // all the way to the bottom\r\n      this.paddle.y = height - this.paddle.height;\r\n      this.paddle.yspeed = 0;\r\n    }\r\n  };\r\n\r\n  this.update = function () {\r\n    var yPos = ball.y;\r\n    var diff = -(this.paddle.y + this.paddle.height / 2 - yPos);\r\n    if (diff < 0 && diff < -4) {\r\n      // max speed up\r\n      diff = -8;\r\n    } else if (diff > 0 && diff > 4) {\r\n      // max speed down\r\n      diff = 8;\r\n    }\r\n    this.move(0, diff);\r\n    if (this.paddle.y < 0) {\r\n      this.paddle.y = 0;\r\n    } else if (this.paddle.y + this.paddle.height > height) {\r\n      this.paddle.y = height - this.paddle.height;\r\n    }\r\n  };\r\n\r\n  this.show = function () {\r\n    this.paddle.show();\r\n  };\r\n}\r\n\r\nfunction Ball(x, y) {\r\n  this.x = x;\r\n  this.y = y;\r\n  this.xspeed = -6;\r\n  this.yspeed = random(-1, 1);\r\n  this.vel = createVector(this.xspeed, this.yspeed);\r\n  this.radius = 40;\r\n  this.yoff = random(1000);\r\n\r\n  this.resetBall = function () {\r\n    this.x = width / 2;\r\n    this.y = height / 2;\r\n    this.xspeed = playerServe ? -6 : 6;\r\n    this.yspeed = random(-1, 1);\r\n    this.vel.x = this.xspeed;\r\n    this.vel.y = this.yspeed;\r\n  };\r\n\r\n  this.inDangerZone = function (x, y) {\r\n    return x < 200 || x > width - 200;\r\n  };\r\n\r\n  this.update = function () {\r\n    this.x += this.xspeed;\r\n    this.y += this.yspeed;\r\n    this.vel.x = this.xspeed;\r\n    this.vel.y = this.yspeed;\r\n\r\n    if (this.y - this.radius <= 0) {\r\n      // hitting the top wall\r\n      this.y = this.radius;\r\n      this.yspeed = -this.yspeed;\r\n    } else if (this.y + this.radius > height) {\r\n      // hitting the bottom wall\r\n      this.y = height - this.radius;\r\n      this.yspeed = -this.yspeed;\r\n    }\r\n\r\n    // a point was scored\r\n    if (this.x - this.radius / 2 < 0 || this.x + this.radius / 2 > width) {\r\n      var xSpot = this.x - this.radius / 2 < 0 ? 0 : width;\r\n      shootSparks(xSpot, this.y, -this.xspeed);\r\n      goalWaitPeriod = true;\r\n      setTimeout(function () {\r\n        goalWaitPeriod = false;\r\n        lightningForge.resetLightningForge();\r\n      }, 500);\r\n      xSpot === 0 ? scoreboard.computerScored() : scoreboard.playerScored();\r\n      playerServe = !playerServe;\r\n      this.resetBall();\r\n    }\r\n\r\n    var paddle1 = player.paddle;\r\n    var paddle2 = computer.paddle;\r\n    if (\r\n      this.y + this.radius / 2 >= paddle1.y &&\r\n      this.y - this.radius / 2 <= paddle1.y + paddle1.height &&\r\n      this.x - this.radius / 2 <= paddle1.x + paddle1.width\r\n    ) {\r\n      // hit the player's paddle\r\n      this.yspeed += paddle1.yspeed / 2;\r\n\r\n      isPlayerForcePush = true;\r\n      this.xspeed = 10;\r\n\r\n      this.x += this.xspeed;\r\n    }\r\n\r\n    if (\r\n      this.y + this.radius / 2 >= paddle2.y &&\r\n      this.y - this.radius / 2 <= paddle2.y + paddle2.height &&\r\n      this.x + this.radius / 2 >= paddle2.x\r\n    ) {\r\n      isCompForcePush = true;\r\n      this.xspeed = -10;\r\n      // hit the computer's paddle\r\n      this.yspeed += paddle2.yspeed / 2;\r\n      this.x += this.xspeed;\r\n    }\r\n  };\r\n\r\n  this.show = function () {\r\n    if (!goalWaitPeriod) {\r\n      noStroke();\r\n      fill(100);\r\n\r\n      var danger = this.inDangerZone(this.x, this.y);\r\n      push();\r\n      translate(this.x, this.y);\r\n      rotate(this.vel.heading() - 80);\r\n\r\n      // Outer Rectangle\r\n      var rect_offset = 0.0 * this.radius;\r\n      fill(226, 228, 236);\r\n      rectMode(CENTER);\r\n      rect(rect_offset, rect_offset, 80, 60, 15, 15, 15);\r\n\r\n      // Inner Rectangle\r\n      fill(2, 44, 80);\r\n      rectMode(CENTER);\r\n      rect(rect_offset, rect_offset, 60, 40, 15, 15, 15);\r\n\r\n      // EYES\r\n      this.yoff += 0.08;\r\n\r\n      var eyeOffset = 0.23 * this.radius;\r\n\r\n      stroke(3, 253, 255);\r\n      fill(3, 253, 255);\r\n      if (danger) {\r\n        text(\"^\", -eyeOffset * 2, 10);\r\n        text(\"^\", eyeOffset / 2, 10);\r\n      } else {\r\n        ellipse(\r\n          -eyeOffset,\r\n          -eyeOffset + 7,\r\n          0.26 * this.radius,\r\n          0.5 * this.radius\r\n        );\r\n        ellipse(\r\n          eyeOffset,\r\n          -eyeOffset + 7,\r\n          0.26 * this.radius,\r\n          0.5 * this.radius\r\n        );\r\n      }\r\n\r\n      pop();\r\n    }\r\n  };\r\n}\r\n\r\n// this.show = function() {\r\n//   if (!goalWaitPeriod) {\r\n//     noStroke();\r\n//     fill(255);\r\n//     var danger = this.inDangerZone(this.x, this.y);\r\n//     push();\r\n//     translate(this.x, this.y);\r\n//     rotate(this.vel.heading() - 80);\r\n//     beginShape();\r\n//     var xoff = 0;\r\n//     for (var a = 0; a < TWO_PI; a += 0.1) {\r\n//       var offset;\r\n//       if (a > PI/6 && a < 5 * PI/6) {\r\n//         offset = map(noise(xoff, this.yoff), 0, 1, -0.31 * this.radius, 0.78 * this.radius);\r\n//       } else {\r\n//         offset = map(noise(xoff, this.yoff), 0, 1, -0.08 * this.radius, 0.08 * this.radius);\r\n//       }\r\n//       var r = this.radius + offset;\r\n//       var x = r * cos(a);\r\n//       var y = r * sin(a);\r\n//       vertex(x, y);\r\n//       xoff += 0.1;\r\n//     }\r\n//     endShape(CLOSE);\r\n\r\n//     this.yoff += 0.08;\r\n\r\n//     var eyeOffset = 0.23 * this.radius;\r\n\r\n//     stroke(54);\r\n//     fill(54);\r\n//     if (danger) {\r\n//       text(\">\", -eyeOffset * 2, 0);\r\n//       text(\"<\", eyeOffset/2, 0);\r\n//     } else {\r\n//       ellipse(-eyeOffset, -eyeOffset, 0.26 * this.radius, 0.5 * this.radius);\r\n//       ellipse(eyeOffset, -eyeOffset, 0.26 * this.radius, 0.5 * this.radius);\r\n//     }\r\n//     pop();\r\n//   }\r\n// }\r\n// };\r\n\r\nfunction shootSparks(x, y, xVel) {\r\n  for (var i = 0; i < 50; i++) {\r\n    var s = new Spark(x, y, xVel);\r\n    sparks.push(s);\r\n  }\r\n}\r\n\r\nfunction Spark(x, y, xVel) {\r\n  this.pos = createVector(x, y);\r\n  this.lifespan = 255;\r\n\r\n  this.vel = createVector(random(0, xVel), random(-xVel, xVel));\r\n  // we just want the direction\r\n  this.vel.normalize();\r\n  // then add random speed\r\n  this.vel.mult(random(0, 10));\r\n\r\n  this.update = function () {\r\n    this.vel.mult(0.95);\r\n    this.lifespan -= 5;\r\n    this.pos.add(this.vel);\r\n  };\r\n\r\n  this.done = function () {\r\n    return this.lifespan < 0;\r\n  };\r\n\r\n  this.show = function () {\r\n    if (!this.done()) {\r\n      noStroke();\r\n      fill(255, this.lifespan);\r\n      rect(this.pos.x, this.pos.y, this.lifespan / 20, this.lifespan / 20, 3);\r\n    }\r\n  };\r\n}\r\n\r\nfunction LightningForge() {\r\n  this.x = width / 2;\r\n  this.y = height / 2;\r\n  this.lifespan = 355;\r\n  this.history = [];\r\n\r\n  this.resetLightningForge = function () {\r\n    this.x = width / 2;\r\n    this.y = height / 2;\r\n    this.lifespan = 355;\r\n    this.history = [];\r\n  };\r\n\r\n  this.forgeIsFormed = function () {\r\n    return this.lifespan < 0;\r\n  };\r\n\r\n  this.update = function () {\r\n    this.lifespan -= 5;\r\n\r\n    for (var i = 0; i < this.history.length; i++) {\r\n      this.history[i].x += random(-2, 2);\r\n      this.history[i].y += random(-5, 5);\r\n    }\r\n\r\n    var v = createVector(this.x, this.y);\r\n    this.history.push(v);\r\n    if (this.history.length > 100) {\r\n      this.history.splice(0, 1);\r\n    }\r\n  };\r\n\r\n  this.show = function () {\r\n    push();\r\n    stroke(255);\r\n    strokeWeight(4);\r\n    line(width / 2, 0, width / 2, height);\r\n    noFill();\r\n    beginShape();\r\n    for (var i = 0; i < this.history.length; i++) {\r\n      var pos = this.history[i];\r\n      vertex(pos.x, pos.y);\r\n    }\r\n    endShape(CLOSE);\r\n    pop();\r\n  };\r\n}\r\n\r\nsetup()"],"names":["player","computer","ball","playerServe","lightningForge","goalWaitPeriod","sparks","isPlayerForcePush","Paddle","x","y","width","height","this","xspeed","yspeed","forcePushTime","show","fill","rect","forceUpdate","pType","Scoreboard","playerScore","computerScore","gameOver","resetScore","playerScored","computerScored","Player","paddle","update","move","Computer","yPos","diff","Ball","random","vel","createVector","radius","yoff","resetBall","inDangerZone","xSpot","xVel","i","s","Spark","push","shootSparks","setTimeout","resetLightningForge","scoreboard","paddle1","paddle2","noStroke","danger","translate","rotate","heading","rect_offset","rectMode","CENTER","eyeOffset","stroke","text","ellipse","pop","pos","lifespan","normalize","mult","add","done","LightningForge","history","forgeIsFormed","length","v","splice","strokeWeight","line","noFill","beginShape","vertex","endShape","CLOSE","console","log","iHeight","window","innerHeight","iWidth","innerWidth","createCanvas","parent","textSize","textFont","setup"],"sourceRoot":""}